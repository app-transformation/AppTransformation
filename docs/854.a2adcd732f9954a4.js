"use strict";(self.webpackChunkangular_material_admin=self.webpackChunkangular_material_admin||[]).push([[854],{56854:(W,x,n)=>{n.r(x),n.d(x,{PagesModule:()=>R});var Z=n(69808),r=n(93075),w=n(24376),m=n(11735),d=n(43565),t=n(5e3),v=n(68968),C=n(8304),c=n(41236),s=n(9224),P=n(67322),u=n(77531),f=n(47423);let A=(()=>{class a{constructor(e,o,p,l,h){this.router=e,this.route=o,this.formBuilder=p,this.toastr=l,this.authService=h,this.routes=d._,this.form=this.formBuilder.group({currentPassword:[""],newPassword:[""],confirmPassword:[""]})}ngOnInit(){}onChangePassword(){this.authService.changePassword(this.form.value).subscribe({next:e=>{this.toastr.success("Password changed successfully"),this.router.navigate(["app/dashboard"])},error:e=>{this.toastr.error(e.error)}})}onCancel(){this.router.navigate(["admin/dashboard"])}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(m.F0),t.Y36(m.gz),t.Y36(r.qu),t.Y36(v._W),t.Y36(C.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-change-password"]],decls:25,vars:2,consts:[[3,"path"],[1,"card"],[1,"h4"],[3,"formGroup"],[1,"input-wrapper"],[1,"input-title"],["appearance","legacy",1,"input-field"],["matInput","","formControlName","currentPassword","type","password",1,"input-text"],["matInput","","formControlName","newPassword","type","password",1,"input-text"],["matInput","","formControlName","confirmPassword","type","password",1,"input-text"],["mat-flat-button","","color","success",3,"click"],["mat-flat-button","","color","default",3,"click"]],template:function(e,o){1&e&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"mat-card",1)(2,"mat-card-title")(3,"h4",2),t._uU(4,"Change password"),t.qZA()(),t.TgZ(5,"mat-card-content",3)(6,"div",4)(7,"p",5),t._uU(8,"Current Password"),t.qZA(),t.TgZ(9,"mat-form-field",6),t._UZ(10,"input",7),t.qZA()(),t.TgZ(11,"div",4)(12,"p",5),t._uU(13,"New Password"),t.qZA(),t.TgZ(14,"mat-form-field",6),t._UZ(15,"input",8),t.qZA()(),t.TgZ(16,"div",4)(17,"p",5),t._uU(18,"Confirm New Password"),t.qZA(),t.TgZ(19,"mat-form-field",6),t._UZ(20,"input",9),t.qZA()(),t.TgZ(21,"button",10),t.NdJ("click",function(){return o.onChangePassword()}),t._uU(22," Change password "),t.qZA(),t.TgZ(23,"button",11),t.NdJ("click",function(){return o.onCancel()}),t._uU(24,"Cancel"),t.qZA()()()),2&e&&(t.Q6J("path",o.routes.CHANGE_PASSWORD),t.xp6(5),t.Q6J("formGroup",o.form))},directives:[c.L,s.a8,s.n5,s.dn,r.JL,r.sg,P.KE,u.Nt,r.Fj,r.JJ,r.u,f.lW],styles:[".card[_ngcontent-%COMP%]{margin-top:24px;box-shadow:0 3px 11px #e8eafc,0 3px 3px -2px #b2b2b21a,0 1px 8px #9a9a9a1a}.input-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;margin:16px 0 8px}@media (max-width: 576px){.input-wrapper[_ngcontent-%COMP%]{width:100%}}.input-title[_ngcontent-%COMP%]{font-size:18px;color:#4a4a4a;margin:0 16px 0 0}.input-field[_ngcontent-%COMP%]{width:80%;font-size:11.2px}@media (max-width: 576px){.input-field[_ngcontent-%COMP%]{width:80%}}.input-text[_ngcontent-%COMP%]{font-size:18px}.mat-form-field-wrapper[_ngcontent-%COMP%]{margin:0;padding:0}.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:20px 0 16px;border:none}.input-select[_ngcontent-%COMP%]{border:none;width:500px}.input-panel[_ngcontent-%COMP%]{width:auto;height:auto}.input-img[_ngcontent-%COMP%]{width:200px;height:auto}button.mat-flat-button[_ngcontent-%COMP%] + button.mat-flat-button[_ngcontent-%COMP%]{margin-left:8px}.checkbox-wrapper[_ngcontent-%COMP%]{margin:24px 0;display:flex}@media (max-width: 768px){.checkbox-wrapper[_ngcontent-%COMP%]{flex-direction:column}}.checkbox-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:16px}.checkbox-item-title[_ngcontent-%COMP%]{margin:0 0 0 8px}.mat-radio-button[_ngcontent-%COMP%] + .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}.inputs-wrapper[_ngcontent-%COMP%]{margin-top:36px}@media (max-width: 1024px){.inputs-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}}mat-form-field[_ngcontent-%COMP%] + mat-form-field[_ngcontent-%COMP%]{margin-left:24px}@media (max-width: 1024px){mat-form-field[_ngcontent-%COMP%] + mat-form-field[_ngcontent-%COMP%]{margin-top:24px;margin-left:0}}"]}),a})();var U=n(77848),M=n(36575),g=n(79814),b=n(77446),T=n(8154);const y=["profile",""],O=[{path:"dashboard",component:(()=>{class a{constructor(){this.routes=d._}ngOnInit(){}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-dashboard"]],decls:7,vars:1,consts:[[3,"path"],[1,"card"],[1,"h4"],["alt","Angular","src","/assets/angular-logo.png",1,"d-block","mx-auto"]],template:function(e,o){1&e&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"mat-card",1)(2,"mat-card-title")(3,"h4",2),t._uU(4,"Dashboard"),t.qZA()(),t.TgZ(5,"mat-card-content"),t._UZ(6,"img",3),t.qZA()()),2&e&&t.Q6J("path",o.routes.DASHBOARD)},directives:[c.L,s.a8,s.n5,s.dn],styles:[".card[_ngcontent-%COMP%]{margin-top:24px;box-shadow:0 3px 11px #e8eafc,0 3px 3px -2px #b2b2b21a,0 1px 8px #9a9a9a1a}.mat-card-content[_ngcontent-%COMP%]{text-align:center}"]}),a})()},{path:"change-password",component:A},{path:"profile",component:(()=>{class a{constructor(e,o,p,l,h,k,E){this.router=e,this.route=o,this.formBuilder=p,this.toastr=l,this.dataFormatterService=h,this.authService=k,this.usersService=E,this.routes=d._,this.loading=!1,this.form=this.formBuilder.group({id:[""],firstName:[""],lastName:[""],phoneNumber:[""],email:[{value:"",disabled:!0}],role:[!1],disabled:[!1],avatar:[[]]})}ngOnInit(){this.getCurrentUser()}avatarAdd(e){this.form.value.avatar.push(e)}avatarDel(e){this.form.value.avatar=this.form.value.avatar.filter(o=>o.id!==e)}onSave(){const e=this.form.value;this.form.controls.email&&(e.email=this.form.controls.email.value),this.usersService.update(e,e.id).subscribe({next:o=>{this.toastr.success("Profile updated successfully"),this.router.navigate([this.routes.DASHBOARD])},error:o=>{this.toastr.error("Something was wrong. Try again")}})}onCancel(){this.router.navigate(["admin/dashboard"])}getCurrentUser(){this.authService.getCurrentUserInfo().subscribe(e=>{this.form.patchValue(e)})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(m.F0),t.Y36(m.gz),t.Y36(r.qu),t.Y36(v._W),t.Y36(U.H),t.Y36(C.e),t.Y36(M.f))},a.\u0275cmp=t.Xpm({type:a,selectors:[["","profile",""]],attrs:y,decls:45,vars:7,consts:[[3,"path"],[1,"card"],[1,"h4"],[3,"formGroup"],[1,"input-wrapper"],[1,"input-title"],["appearance","legacy",1,"input-field"],["matInput","","formControlName","firstName","placeholder","First Name",1,"input-text"],["matInput","","formControlName","lastName","placeholder","Last Name",1,"input-text"],["matInput","","formControlName","phoneNumber","placeholder","Phone Number",1,"input-text"],["matInput","","formControlName","email","placeholder","E-Mail",1,"input-text"],[1,"checkbox-wrapper"],["formControlName","role"],["color","primary",3,"value"],[1,"checkbox-item"],[1,"checkbox-item-title"],["color","primary","formControlName","disabled"],[3,"imageList","entityName","propertyName","imageUploaded","imageDeleted"],["mat-flat-button","","color","success",3,"click"],["mat-flat-button","","color","default",3,"click"]],template:function(e,o){1&e&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"mat-card",1)(2,"mat-card-title")(3,"h4",2),t._uU(4,"Edit Profile"),t.qZA()(),t.TgZ(5,"mat-card-content",3)(6,"div",4)(7,"p",5),t._uU(8,"First Name"),t.qZA(),t.TgZ(9,"mat-form-field",6),t._UZ(10,"input",7),t.qZA()(),t.TgZ(11,"div",4)(12,"p",5),t._uU(13,"Last Name"),t.qZA(),t.TgZ(14,"mat-form-field",6),t._UZ(15,"input",8),t.qZA()(),t.TgZ(16,"div",4)(17,"p",5),t._uU(18,"Phone Number"),t.qZA(),t.TgZ(19,"mat-form-field",6),t._UZ(20,"input",9),t.qZA()(),t.TgZ(21,"div",4)(22,"p",5),t._uU(23,"E-Mail"),t.qZA(),t.TgZ(24,"mat-form-field",6),t._UZ(25,"input",10),t.qZA()(),t.TgZ(26,"p",5),t._uU(27,"Role"),t.qZA(),t.TgZ(28,"div",11)(29,"mat-radio-group",12)(30,"mat-radio-button",13),t._uU(31," admin "),t.qZA()(),t.TgZ(32,"mat-radio-group",12)(33,"mat-radio-button",13),t._uU(34," user "),t.qZA()()(),t.TgZ(35,"div",11)(36,"div",14)(37,"p",15),t._uU(38,"Disabled"),t.qZA(),t._UZ(39,"mat-checkbox",16),t.qZA()(),t.TgZ(40,"app-image-uploader",17),t.NdJ("imageUploaded",function(l){return o.avatarAdd(l)})("imageDeleted",function(l){return o.avatarDel(l)}),t.qZA(),t.TgZ(41,"button",18),t.NdJ("click",function(){return o.onSave()}),t._uU(42,"Save"),t.qZA(),t.TgZ(43,"button",19),t.NdJ("click",function(){return o.onCancel()}),t._uU(44,"Cancel"),t.qZA()()()),2&e&&(t.Q6J("path",o.routes.PROFILE),t.xp6(5),t.Q6J("formGroup",o.form),t.xp6(25),t.Q6J("value","admin"),t.xp6(3),t.Q6J("value","user"),t.xp6(7),t.Q6J("imageList",o.form.value.avatar)("entityName","users")("propertyName","avatar"))},directives:[c.L,s.a8,s.n5,s.dn,r.JL,r.sg,P.KE,u.Nt,r.Fj,r.JJ,r.u,g.VQ,g.U0,b.oG,T.$,f.lW],styles:[".card{margin-top:24px;box-shadow:0 3px 11px #e8eafc,0 3px 3px -2px #b2b2b21a,0 1px 8px #9a9a9a1a}.input-wrapper{width:80%;display:flex;align-items:center;justify-content:space-between;margin:16px 0 8px}@media (max-width: 576px){.input-wrapper{width:100%}}.input-title{font-size:18px;color:#4a4a4a;margin:0 16px 0 0}.input-field{width:80%;font-size:11.2px}@media (max-width: 576px){.input-field{width:80%}}.input-text,textarea{font-size:18px}.mat-form-field-wrapper{margin:0;padding:0}.mat-form-field-appearance-outline .mat-form-field-infix{padding:20px 0 16px;border:none}.input-select{border:none;width:500px}.input-panel{width:auto;height:auto}.input-img{width:200px;height:auto}button.mat-flat-button+button.mat-flat-button{margin-left:8px}.checkbox-wrapper{margin:18px 0;display:flex}@media (max-width: 768px){.checkbox-wrapper{flex-direction:column}}.checkbox-item{display:flex;align-items:center}.checkbox-item-title{font-size:18px;color:#4a4a4a;margin:0!important}.mat-checkbox,.mat-checkbox-inner-container,.mat-checkbox-inner-container-no-side-margin{margin-left:10px!important}.mat-radio-button{margin-left:16px}.inputs-wrapper{margin-top:36px}@media (max-width: 1024px){.inputs-wrapper{display:flex;flex-direction:column}}mat-form-field+mat-form-field{margin-left:24px}@media (max-width: 1024px){mat-form-field+mat-form-field{margin-top:24px;margin-left:0}}.image-preview{width:191px;height:141px;background-size:cover;background-position:50% center}\n"],encapsulation:2}),a})()}];let N=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[m.Bz.forChild(O)],m.Bz]}),a})();var J=n(35216),D=n(90149),S=n(27544),z=n(48966),F=n(32368),I=n(64449),Y=n(25245),B=n(92181),L=n(74107),Q=n(18561);let R=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[Z.ez,N,J.m,r.UX,w.A0,I.ie,Y.Ps,m.Bz,f.ot,B.Tx,L.LD,r.u5,Q.SJ,D.dp,S.g,s.QW,z.Is,u.c,g.Fk,F.rP,s.QW,b.p9]]}),a})()}}]);